---
layout: documentation
title: ReactiveX - Defer operator
id: defer
---

<ol class="breadcrumb">
  <li><a href="{{ site.url }}/documentation/operators.html">Operators</a></li>
  <li><a href="{{ site.url }}/documentation/operators.html#creating">Creating</a></li>
  <li class="active">Defer</li>
</ol>

<h1>Defer</h1>
<h3>do not create the Observable until the observer subscribes, and create a fresh Observable for each observer</h3>

<figure>
 <img src="images/defer.c.png" style="width:100%;" alt="Defer" />
 <figcaption><p>
  The <span class="operator">Defer</span> operator waits until an observer subscribes to it, and
  then it generates an Observable, typically with an Observable factory function. It does this
  afresh for each subscriber, so although each subscriber may think it is subscribing to the same
  Observable, in fact each subscriber gets its own individual sequence.
 </p><p>
  In some circumstances, waiting until the last minute (that is, until subscription time) to generate
  the Observable can ensure that this Observable contains the freshest data.
 </p></figcaption>
</figure>
<h4>See Also:</h4>
<ul>
 <li><a href="http://blog.danlew.net/2015/07/23/deferring-observable-code-until-subscription-in-rxjava/">Deferring Observable code until subscription in RxJava</a> by Dan Lew</li>
</ul>

<h2>Language-Specific Information:</h2>

<div class="panel-group operators-by-language" id="accordion" role="tablist" aria-multiselectable="true">

  {% lang_operator RxClojure %}
    <p>
     <span style="color:#f00">TBD</span>
    </p>
  {% endlang_operator %}

  {% lang_operator RxCpp defer %}
    <p>
     <span style="color:#f00">TBD</span>
    </p>
  {% endlang_operator %}

  {% lang_operator RxGroovy defer ifThen switchCase %}
    <figure class="variant">
     <img src="images/defer.png" style="width:100%;" alt="defer" />
     <figcaption><p>
      RxGroovy implements this operator as <code>defer</code>. This operator takes as its sole
      parameter an Observable factory function of your choosing. This function takes no parameters
      and returns an Observable.
     </p><p>
      <code>defer</code> does not by default operate on a particular <a href="../scheduler.html">Scheduler</a>.
     </p>
     <ul>
      <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#defer(rx.functions.Func0)"><code>defer()</code></a></li>
     </ul></figcaption>
    </figure>
    <figure class="variant">
     <img src="images/switchCase.png" style="width:100%;" alt="switchCase" />
     <figcaption><p>
      There is a somewhat similar operator in the optional <code>rxjava-computation-expressions</code>
      package (it is not part of the standard RxGroovy set of operators). The <code>switchCase</code> operator
      conditionally creates and returns one of a set of possible Observables.
     </p></figcaption>
    </figure>
    <figure class="variant">
     <img src="images/ifThen.png" style="width:100%;" alt="ifThen" />
     <figcaption><p>
      An even simpler operator in the optional <code>rxjava-computation-expressions</code> package (also not
      part of the standard RxGroovy set of operators) is <code>ifThen</code>. This operator checks a condition
      and then either mirrors the source Observable or an empty Observable depending on the result.
     </p></figcaption>
    </figure>
  {% endlang_operator %}

  {% lang_operator RxJava defer ifThen switchCase %}
    <figure class="variant">
     <img src="images/defer.png" style="width:100%;" alt="defer" />
     <figcaption><p>
      RxJava implements this operator as <code>defer</code>. This operator takes as its sole
      parameter an Observable factory function of your choosing. This function takes no parameters
      and returns an Observable.
     </p><p>
      <code>defer</code> does not by default operate on a particular <a href="../scheduler.html">Scheduler</a>.
     </p>
     <ul>
      <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#defer(rx.functions.Func0)"><code>defer()</code></a></li>
     </ul></figcaption>
    </figure>
    <figure class="variant">
     <img src="images/switchCase.png" style="width:100%;" alt="switchCase" />
     <figcaption><p>
      There is a somewhat similar operator in the optional <code>rxjava-computation-expressions</code>
      package (it is not part of the standard RxJava set of operators). The <code>switchCase</code> operator
      conditionally creates and returns one of a set of possible Observables.
     </p></figcaption>
    </figure>
    <figure class="variant">
     <img src="images/ifThen.png" style="width:100%;" alt="ifThen" />
     <figcaption><p>
      An even simpler operator in the optional <code>rxjava-computation-expressions</code> package (also not
      part of the standard RxGroovy set of operators) is <code>ifThen</code>. This operator checks a condition
      and then either mirrors the source Observable or an empty Observable depending on the result.
     </p></figcaption>
    </figure>
  {% endlang_operator %}

  {% lang_operator RxJS defer %}
    <figure class="variant">
     <img src="images/defer.png" style="width:100%;" alt="defer" />
     <figcaption><p>
      RxJS implements this operator as <code>defer</code>. This operator takes as its sole parameter
      an Observable factory function of your choosing. This function takes no parameters and returns
      an Observable.
     </p>
     <h4>Sample Code</h4>
     <div class="code javascript"><pre>
var x = 0;

var source = Rx.Observable.defer(function () {
  x += 10;
  return Rx.Observable.of(x + 1, x + 2, x + 3);
});

var subscription1 = source.subscribe(
  (x) => console.log('Next: ' + x),
  (err) => console.log('Error: ' + err),
  () => console.log('Completed')
);

var subscription2 = source.subscribe(
  (x) => console.log('Next: ' + x),
  (err) => console.log('Error: ' + err),
  () => console.log('Completed')
);</pre></div>
     <div class="output"><pre>
Next: 11
Next: 12
Next: 13
Completed
Next: 21
Next: 22
Next: 23
Completed</pre></div>
     </figcaption>
    </figure>
  {% endlang_operator %}

  {% lang_operator RxKotlin defer switchCase %}
    <p>
     <span style="color:#f00">TBD</span>
    </p>
  {% endlang_operator %}

  {% lang_operator Rx.NET Defer %}
    <p>
     <span style="color:#f00">TBD</span>
    </p>
  {% endlang_operator %}

  {% lang_operator RxPY case defer if_then switch_case %}
    <p>
     <span style="color:#f00">TBD</span>
    </p>
  {% endlang_operator %}

  {% lang_operator Rx.rb defer %}
    <p>
     <span style="color:#f00">TBD</span>
    </p>
  {% endlang_operator %}

  {% lang_operator RxScala defer %}
    <p>
     <span style="color:#f00">TBD</span>
    </p>
  {% endlang_operator %}

  {% lang_operator RxSwift defer %}
    <p>
     <span style="color:#f00">TBD</span>
    </p>
  {% endlang_operator %}

</div>
